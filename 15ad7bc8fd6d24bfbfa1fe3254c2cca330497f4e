{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "57255259_2ef68d78",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "fwiw, strptime.c is from a different upstream source (as you\u0027ve probably noticed), and we\u0027ve made changes that we haven\u0027t upstreamed there, so if you think it\u0027ll make future updates of tzcode easier to move that stuff out, feel free...",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bd6c508_180b4daf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "thanks for including the link in the commit message!",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f37b1aba_2c61fb2b",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-14T14:31:24Z",
      "side": 1,
      "message": "w/o this flag I get `localtime.c:348 variable \u0027tzdirslash\u0027 is not needed and will not be emitted [-Werror,-Wunneeded-internal-declaration]`.\n\nThis seems to be https://bugs.llvm.org/show_bug.cgi?id\u003d33068.",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05c67827_9bfd473e",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "maybe `#ifndef __BIONIC__` the unused bits instead? that way we\u0027ll have to opt-in to other instances, rather than giving the compiler carte blanche to just throw stuff away :-)\n\n(also, this should have been in the tzcode-specific section, not the global section, for that same reason!)",
      "parentUuid": "f37b1aba_2c61fb2b",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "90ab32a8_c32535cb",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-23T15:40:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "05c67827_9bfd473e",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cae4c0ef_a5c366d7",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "i think this might need to be `-DTHREAD_SAFE\u003d1` now, given the changes in localtime.c?",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "944f1989_247059f2",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-15T14:48:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cae4c0ef_a5c366d7",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b98cfbde_e7ad00cb",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 274,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "seems like this has been removed? looks like this is the new default, though, so we don\u0027t need to _replace_ this with anything, just remove it...",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da9405ff_92d5c4a9",
        "filename": "libc/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 274,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-15T14:48:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b98cfbde_e7ad00cb",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b02e2211_062760ff",
        "filename": "libc/tzcode/asctime.c",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "(this all seems fine.)",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adcf9db5_15ad4129",
        "filename": "libc/tzcode/difftime.c",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "(this all seems fine.)",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "637fa440_0ca049f4",
        "filename": "libc/tzcode/private.h",
        "patchSetId": 2
      },
      "lineNbr": 623,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "might be worth adding `-DHAVE_STDBOOL_H` to get better error checking?",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9e40c3c_67f6c428",
        "filename": "libc/tzcode/private.h",
        "patchSetId": 2
      },
      "lineNbr": 623,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-23T15:40:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "637fa440_0ca049f4",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f4646d0_e41bbdb0",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-14T14:31:24Z",
      "side": 1,
      "message": "localtime_r expects time_t, but mkt is time64_t. With localtime64_r I get `implicit declaration of function \u0027localtime64_r\u0027 is invalid in C99`.\n\nWith `if (mkt \u003d\u003d)` branch commented out all cts tests pass. Probably there is no test for that.",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cb9b4aa_33b422ff",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "\u003e localtime_r expects time_t, but mkt is time64_t. With localtime64_r I get  implicit declaration of function \u0027localtime64_r\u0027 is invalid in C99 .\n\nyeah, see the hack up at the top of the file: https://source.corp.google.com/android/bionic/libc/tzcode/strftime.c;l\u003d44?q\u003dfile:bionic%20mktime64\u0026sq\u003dpackage:%5Eandroid$\n\nyou\u0027ll need to add a `#define localtime64_r localtime_r` there.\n\n\u003e With  if (mkt \u003d\u003d)  branch commented out all cts tests pass. Probably there is no test for that.\n\nyeah, that\u0027s often a problem with this code. feel free to add a test if you have one; otherwise we\u0027ve mainly added tests as we\u0027ve broken stuff and had to fix it, or where we\u0027ve rewritten stuff ourselves.",
      "parentUuid": "7f4646d0_e41bbdb0",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c952e4b_b7ae4b4d",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-15T14:48:16Z",
      "side": 1,
      "message": "Is this branch needed at all in bionic? AFAIU time_t is always signed in bionic, so -1 should be valid timestamp. \n\nDo I miss anything here?\n\nI\u0027ve added strftime_second_before_epoch test to time_test and it fails on cf_x86 with this branch and works as expected with branch commented out.",
      "parentUuid": "5cb9b4aa_33b422ff",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33fae03d_a950d4b6",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 364,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-15T17:09:19Z",
      "side": 1,
      "message": "\u003e Do I miss anything here?\n\nheh, i almost commented yesterday \"i don\u0027t really get the point of this code --- i\u0027ve never seen an unsigned time_t, and this seems quite expensive for no obvious value\", but didn\u0027t because i hadn\u0027t bothered to look at the upstream history for the motivation :-)",
      "parentUuid": "6c952e4b_b7ae4b4d",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5194d923_748fd2a3",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 609,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "hmm, this might be the fix to one of the issues you\u0027d seen?",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6b78423_939c2bb9",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 609,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-23T15:40:49Z",
      "side": 1,
      "message": "Actual fix is https://github.com/eggert/tz/commit/db9347fbbc17f7e9855490c8c4cf54982fc5871e. I will apply it separately.",
      "parentUuid": "5194d923_748fd2a3",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79704525_f3082e53",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 615,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "is this indentation wrong upstream?",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c403e35f_d35bd817",
        "filename": "libc/tzcode/strftime.c",
        "patchSetId": 2
      },
      "lineNbr": 615,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-15T14:48:16Z",
      "side": 1,
      "message": "Oops, it was me. Thanks, fixed.",
      "parentUuid": "79704525_f3082e53",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a455e788_fea4baa3",
        "filename": "libc/tzcode/tzfile.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-14T22:28:37Z",
      "side": 1,
      "message": "this seems like it would break setting the timezone to null? except we don\u0027t have the localtime symlink on any devices anyway, so this always failed, just slightly differently?",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "609e1174_571b4fd9",
        "filename": "libc/tzcode/tzfile.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-02-23T16:07:00Z",
      "side": 1,
      "message": "I guess it should not used in bionic. I will check it.",
      "parentUuid": "a455e788_fea4baa3",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb46ff1b_a2146036",
        "filename": "libc/tzcode/tzfile.h",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-06-01T08:48:07Z",
      "side": 1,
      "message": "Will be set to NULL.",
      "parentUuid": "609e1174_571b4fd9",
      "revId": "15ad7bc8fd6d24bfbfa1fe3254c2cca330497f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}